[gd_scene load_steps=11 format=3 uid="uid://dqykicfu0u1ug"]

[ext_resource type="PackedScene" uid="uid://drei8wtrpbio6" path="res://Models/Characters/base_character.tscn" id="1_ll1t0"]
[ext_resource type="Script" uid="uid://d4gw8w33rep3v" path="res://Models/Characters/Players/player.gd" id="2_lj72d"]
[ext_resource type="Resource" uid="uid://umirx22rugjw" path="res://Configs/all_gear.tres" id="4_etuff"]
[ext_resource type="Script" uid="uid://ccecmimg8gv2o" path="res://Models/Characters/Players/Scripts/player_gear.gd" id="5_k34jo"]
[ext_resource type="Texture2D" uid="uid://bil3lejwoho37" path="res://Assets/Art/0x72_DungeonTilesetII_v1.7/frames/knight_f_idle_anim_f0.png" id="5_yd6jm"]
[ext_resource type="PackedScene" uid="uid://twvv0wexmurt" path="res://Models/UI/OptionMenus/options.tscn" id="6_ahy4h"]
[ext_resource type="Script" uid="uid://c1aqcvo26tkph" path="res://Models/Characters/Players/Scripts/player_detector.gd" id="6_g43wq"]

[sub_resource type="CircleShape2D" id="CircleShape2D_mmjfn"]
radius = 9.48683

[sub_resource type="Gradient" id="Gradient_yh8rr"]
offsets = PackedFloat32Array(0, 0.775449)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_883f5"]
gradient = SubResource("Gradient_yh8rr")
width = 128
height = 128
use_hdr = true
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(1, 1)

[node name="Player" node_paths=PackedStringArray("gear", "detector", "listener", "light", "skill_menu", "item_menu") instance=ExtResource("1_ll1t0")]
collision_layer = 8
collision_mask = 51
script = ExtResource("2_lj72d")
gear = NodePath("Gear")
detector = NodePath("Detector")
listener = NodePath("AudioListener")
light = NodePath("PointLight2D")
skill_menu = NodePath("Skills/SkillList")
item_menu = NodePath("Items/ItemList")
max_sp = 0
sp = 0
level_up_xp = 0
xp = 0
mag = 0
level_cap = 60
speed = 20
classname = &""
battle_sprite_texture = ExtResource("5_yd6jm")
character_name = "Player"
desc = "A named shade"

[node name="DungeonSprite" parent="." index="0"]
position = Vector2(0, -12)
scale = Vector2(1, 1)
texture = ExtResource("5_yd6jm")

[node name="Hitbox" parent="." index="1"]
position = Vector2(0, -7)

[node name="SkillList" parent="Skills" index="0" instance=ExtResource("6_ahy4h")]
visible = false

[node name="Gear" type="Node" parent="." index="3"]
script = ExtResource("5_k34jo")
player_gear_data = ExtResource("4_etuff")

[node name="ItemList" parent="Items" index="0" instance=ExtResource("6_ahy4h")]
visible = false

[node name="Detector" type="Area2D" parent="." index="6"]
position = Vector2(0, -7)
collision_layer = 0
collision_mask = 1014
script = ExtResource("6_g43wq")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Detector" index="0"]
shape = SubResource("CircleShape2D_mmjfn")
debug_color = Color(0, 1, 0, 0)

[node name="Local" parent="AudioPlayer" index="0"]
autoplay = true
max_polyphony = 32

[node name="Global" parent="AudioPlayer" index="1"]
autoplay = true
max_polyphony = 32
bus = &"CharacterSFX"

[node name="AudioListener" type="AudioListener2D" parent="." index="8"]
current = true

[node name="PointLight2D" type="PointLight2D" parent="." index="9"]
scale = Vector2(3.03125, 2.78125)
enabled = false
shadow_enabled = true
shadow_filter = 1
texture = SubResource("GradientTexture2D_883f5")

[connection signal="item_selected" from="Skills/SkillList" to="." method="_on_skill_list_selected"]
[connection signal="item_selected" from="Items/ItemList" to="." method="_on_item_list_selected"]
[connection signal="area_entered" from="Detector" to="Detector" method="_on_area_entered"]
[connection signal="body_shape_entered" from="Detector" to="Detector" method="_on_body_shape_entered"]
[connection signal="body_shape_exited" from="Detector" to="Detector" method="_on_body_shape_exited"]
