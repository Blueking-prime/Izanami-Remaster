[gd_scene load_steps=23 format=3 uid="uid://c5qgnil3yfo54"]

[ext_resource type="Script" uid="uid://wf61cxsog4sa" path="res://Models/Scenes/Town/town.gd" id="1_wpby1"]
[ext_resource type="PackedScene" uid="uid://d4fsdqxn6alxo" path="res://Models/Scenes/location.tscn" id="1_xeoqd"]
[ext_resource type="Script" uid="uid://degg0mew17rdq" path="res://Models/Scenes/Town/church.gd" id="3_ysa3r"]
[ext_resource type="Script" uid="uid://t37kx57gslqc" path="res://Models/Scenes/Town/smithy.gd" id="4_hnjkr"]
[ext_resource type="Resource" uid="uid://umirx22rugjw" path="res://Configs/all_gear.tres" id="5_rbk51"]
[ext_resource type="Script" uid="uid://cs5fylkj7kowr" path="res://Models/Scenes/Town/apothecary.gd" id="6_7ocav"]
[ext_resource type="Resource" uid="uid://cax38by3qeox4" path="res://Configs/all_items.tres" id="7_k1mvl"]
[ext_resource type="Script" uid="uid://bn6tdwm4hho4f" path="res://Models/Scenes/Town/dungeon_town.gd" id="8_k31jc"]
[ext_resource type="Resource" uid="uid://d1ojuriup7dgc" path="res://Configs/all_enemies.tres" id="9_tt1ik"]
[ext_resource type="Script" uid="uid://rakx3xuh5nds" path="res://Models/Scenes/Dungeon/dungeon_save_data.gd" id="10_dxb7f"]
[ext_resource type="Script" uid="uid://dobwosnxelorr" path="res://Models/Scenes/Town/demonitarium.gd" id="10_h5qir"]
[ext_resource type="Script" uid="uid://kc642r4ntv5s" path="res://addons/godot_resource_groups/resource_group.gd" id="11_6gf2o"]
[ext_resource type="PackedScene" uid="uid://5iv4fsku5g5x" path="res://Models/Scenes/Town/Demonitarium/demonitarium.tscn" id="14_k4n1q"]
[ext_resource type="PackedScene" uid="uid://byocasfo71gy0" path="res://Models/Characters/NPCs/npc.tscn" id="15_ujed2"]
[ext_resource type="Script" uid="uid://dytjd2yhrw5eb" path="res://Models/Scenes/Town/test.gd" id="18_y17gc"]

[sub_resource type="CircleShape2D" id="CircleShape2D_8b2lm"]
radius = 20.0

[sub_resource type="CircleShape2D" id="CircleShape2D_6d4y1"]
radius = 172.491

[sub_resource type="CircleShape2D" id="CircleShape2D_iypj6"]
radius = 186.454

[sub_resource type="CircleShape2D" id="CircleShape2D_wg0ch"]
radius = 177.902

[sub_resource type="CircleShape2D" id="CircleShape2D_ndgr8"]
radius = 170.012

[sub_resource type="CircleShape2D" id="CircleShape2D_ptai1"]
radius = 183.096

[sub_resource type="CircleShape2D" id="CircleShape2D_vqjfq"]
radius = 34.0147

[node name="Town" node_paths=PackedStringArray("church", "smithy", "apothecary", "dungeon", "demonitarium", "palace", "test", "tilemap", "entrance_area") instance=ExtResource("1_xeoqd")]
script = ExtResource("1_wpby1")
church = NodePath("Church")
smithy = NodePath("Smithy")
apothecary = NodePath("Apothecary")
dungeon = NodePath("Dungeon")
demonitarium = NodePath("Demonitarium")
palace = NodePath("Palace")
test = NodePath("Test")
entrance = Vector2(960, 878)
tilemap = NodePath("ObjectsSort/Tilemap")
entrance_area = NodePath("Entrance")

[node name="Players" parent="ObjectsSort" index="0"]
position = Vector2(965, 1202)

[node name="Tilemap" type="TileMapLayer" parent="ObjectsSort" index="1"]

[node name="Entrance" type="Area2D" parent="." index="5"]
position = Vector2(960, 1133)
collision_layer = 0
collision_mask = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="Entrance" index="0"]
shape = SubResource("CircleShape2D_8b2lm")

[node name="Church" type="StaticBody2D" parent="." index="6"]
position = Vector2(1384, 1404)
collision_layer = 32
collision_mask = 0
script = ExtResource("3_ysa3r")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Church" index="0"]
shape = SubResource("CircleShape2D_6d4y1")

[node name="Label" type="Label" parent="Church" index="1"]
offset_right = 40.0
offset_bottom = 23.0
text = "Church"
metadata/_edit_use_anchors_ = true

[node name="Smithy" type="StaticBody2D" parent="." index="7"]
position = Vector2(479, 1404)
collision_layer = 32
collision_mask = 0
script = ExtResource("4_hnjkr")
stock = ExtResource("5_rbk51")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Smithy" index="0"]
shape = SubResource("CircleShape2D_iypj6")

[node name="Label" type="Label" parent="Smithy" index="1"]
offset_right = 40.0
offset_bottom = 23.0
text = "Smithy"
metadata/_edit_use_anchors_ = true

[node name="Apothecary" type="StaticBody2D" parent="." index="8"]
position = Vector2(960, 324)
collision_layer = 32
collision_mask = 0
script = ExtResource("6_7ocav")
stock = ExtResource("7_k1mvl")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Apothecary" index="0"]
shape = SubResource("CircleShape2D_wg0ch")

[node name="Label" type="Label" parent="Apothecary" index="1"]
offset_right = 40.0
offset_bottom = 23.0
text = "Apothecary"
metadata/_edit_use_anchors_ = true

[node name="Dungeon" type="StaticBody2D" parent="." index="9"]
position = Vector2(1644, 718)
collision_layer = 32
collision_mask = 0
script = ExtResource("8_k31jc")
no_of_floors = 2
dungeon_title = "Test"
dungeon_dimensions = Array[Vector2]([Vector2(32, 18), Vector2(48, 27)])
dungeon_fixed = Array[bool]([false, false])
dungeon_data = Array[ExtResource("10_dxb7f")]([null, null])
dungeon_enemies = Array[ExtResource("11_6gf2o")]([ExtResource("9_tt1ik"), ExtResource("9_tt1ik")])
dungeon_levels = Array[int]([1, 5])
dungeon_item_drops = Array[ExtResource("11_6gf2o")]([ExtResource("7_k1mvl"), ExtResource("7_k1mvl")])
dungeon_gear_drops = Array[ExtResource("11_6gf2o")]([ExtResource("5_rbk51"), ExtResource("5_rbk51")])
dungeon_MAX_ENEMIES = Array[int]([1, 2])
dungeon_enemy_spawn_chance = Array[float]([0.8, 0.8])
dungeon_treasure_spawn_chance = Array[float]([0.2, 0.2])
dungeon_gear_chance = Array[float]([0.5, 0.5])

[node name="CollisionShape2D" type="CollisionShape2D" parent="Dungeon" index="0"]
shape = SubResource("CircleShape2D_ndgr8")

[node name="Label" type="Label" parent="Dungeon" index="1"]
offset_right = 40.0
offset_bottom = 23.0
text = "Dungeon"
metadata/_edit_use_anchors_ = true

[node name="Demonitarium" type="StaticBody2D" parent="." index="10" node_paths=PackedStringArray("collision_shape")]
position = Vector2(268, 726)
collision_layer = 32
collision_mask = 0
script = ExtResource("10_h5qir")
demonitarium_scene = ExtResource("14_k4n1q")
collision_shape = NodePath("CollisionShape2D")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Demonitarium" index="0"]
shape = SubResource("CircleShape2D_ptai1")

[node name="Label" type="Label" parent="Demonitarium" index="1"]
offset_right = 71.0
offset_bottom = 23.0
text = "Demonitarium"
metadata/_edit_use_anchors_ = true

[node name="Palace" type="Node2D" parent="." index="11"]
position = Vector2(960, 1202)

[node name="Characters" type="Node" parent="." index="12"]

[node name="Kobaneko" type="Node2D" parent="Characters" index="0"]

[node name="White" type="Node2D" parent="Characters" index="1"]

[node name="Test" type="StaticBody2D" parent="." index="13"]
position = Vector2(960, 864)
collision_layer = 32
collision_mask = 0
script = ExtResource("18_y17gc")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Test" index="0"]
shape = SubResource("CircleShape2D_vqjfq")

[node name="Node2D" parent="." index="14" instance=ExtResource("15_ujed2")]
position = Vector2(615, 817)

[node name="ExitButton" parent="CanvasLayer" index="4"]
offset_left = 0.0
offset_top = 0.0
offset_right = 8.0
offset_bottom = 8.0

[connection signal="body_entered" from="Entrance" to="." method="_on_entrance_body_entered"]
